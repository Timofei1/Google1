{"version":3,"sources":["panels/Achievement.js","panels/home.js","App.js","sw.js","index.js"],"names":["Achievement","className","onClick","this","props","click","src","img","clickAchievement","Component","home","id","connect","header","level","setActiveModal","title","desc","App","state","error","object_error","activeModal","modalHistory","text","snackbar","image_url","last_smoke_at","last_smoke_at_search","last_smoke_at_time_search","last_smoke_at_time","last_smoke_at_date","last_smoke_at_date_search","years_of_smoking","years_of_smoking_search","months_of_smoking","months_of_smoking_search","cigarettes_per_day","cigarettes_per_day_search","pack_cost","pack_cost_search","tar_per_cigarette","tar_per_cigarette_search","nicotine_per_cigarette","nicotine_per_cigarette_search","stat","not_smoked_cigarettes","not_smoked_days","money_saved","not_received_tar","not_received_nicotine","time_saved_hours","life_extension_days","harm_stat","smoked_days","smoked_cigarettes","money_spent","hours_spent","received_tar","received_nicotine","cigarette_butts_weight","netflix_sub_months","marathons","rabbits","activePanel","history","is_support","backend_url","health_list","modalBack","length","indexOf","splice","push","setState","modal","onClose","icon","size","caption","actions","type","action","isWebView","onSwipeBack","goBack","popout","React","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","isLocalhost","Boolean","window","location","hostname","match","send","URL","process","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","ReactDOM","render","document","getElementById"],"mappings":"isBAGqBA,G,2NAEb,OACI,yBAAKC,UAAU,cAAcC,QAASC,KAAKC,MAAMC,OAC7C,yBACIJ,UAAU,mBACVK,IAAKH,KAAKC,MAAMG,IAChBL,QAASC,KAAKC,MAAMI,wB,GAPCC,cC4C1BC,EA3BF,SAAC,GAAD,IAAGC,EAAH,EAAGA,GAAUP,EAAb,EAAOD,KAAP,EAAoBS,QAApB,OACT,kBAAC,IAAD,CAAOD,GAAIA,EAAIE,QAAQ,GACP,kBAAC,IAAD,KACA,yBAAKZ,UAAU,oBACX,kBAAC,IAAD,CAAQa,MAAM,WAAYZ,QAAS,kBAAME,EAAMW,eAAe,cAElE,kBAAC,EAAD,CACYR,IAAI,wEACJS,MAAM,6CACNC,KAAK,4JAIT,kBAAC,IAAD,CAAQH,MAAM,WAAYZ,QAAS,kBAAME,EAAMW,eAAe,WAClE,kBAAC,EAAD,CACYR,IAAI,wEACJS,MAAM,6CACNC,KAAK,gKC0I1BC,G,mBA9Id,WAAYd,GAAQ,IAAD,8BAClB,4CAAMA,KAEDe,MAAL,aACCC,MAAO,GACPC,aAAc,GACdC,YAAa,KACbC,aAAc,GACdC,KAAM,GACNC,SAAU,KACVC,UAAW,GAEXC,cAAe,GACfC,qBAAsB,GACtBC,0BAA2B,GAC3BC,mBAAoB,GACpBC,mBAAoB,GACpBC,0BAA2B,GAC3BC,iBAAkB,GAClBC,wBAAyB,GACzBC,kBAAmB,GACnBC,yBAA0B,GAC1BC,mBAAoB,GACpBC,0BAA2B,GAC3BC,UAAW,GACXC,iBAAkB,GAClBC,kBAAmB,GACnBC,yBAA0B,GAC1BC,uBAAwB,GACxBC,8BAA+B,GAC/BC,KAAM,CACOC,sBAAuB,EACvBC,gBAAiB,EACjBC,YAAa,EACbC,iBAAkB,EAClBC,sBAAuB,EACvBC,iBAAkB,EAClBC,oBAAqB,GAEzBC,UAAW,CACPC,YAAa,EACbC,kBAAmB,EACnBC,YAAa,EACbC,YAAa,EACbC,aAAc,EACdC,kBAAmB,EAEnBC,uBAAwB,EACxBC,mBAAoB,EACpBC,UAAW,EACXC,QAAS,GAEbC,YAAa,OACbC,QAAS,CAAC,QACVC,YAAY,EACZC,YAAa,sDACtBC,YAAa,IArDd,eAsDe,CACb/B,mBAAoB,KAKtB,EAAKgC,UAAY,WAChB,EAAKtD,eAAe,EAAKI,MAAMI,aAAa,EAAKJ,MAAMI,aAAa+C,OAAS,KAhE5D,E,4EAoEJhD,GACdA,EAAcA,GAAe,KAC7B,IAAIC,EAAepB,KAAKgB,MAAMI,aAAX,YAA8BpB,KAAKgB,MAAMI,cAAgB,GAExD,OAAhBD,EACHC,EAAe,IACkC,IAAvCA,EAAagD,QAAQjD,GAC/BC,EAAeA,EAAaiD,OAAO,EAAGjD,EAAagD,QAAQjD,GAAe,GAE1EC,EAAakD,KAAKnD,GAGnBnB,KAAKuE,SAAS,CACbpD,cACAC,mB,+BAKD,IAAMoD,EACL,kBAAC,IAAD,CAAWrD,YAAanB,KAAKgB,MAAMG,aACtB,kBAAC,IAAD,CACXX,GAAG,WACHiE,QAASzE,KAAKkE,UACdQ,KACmB,kBAAC,IAAD,CAAQC,KAAM,GAAIxE,IAAI,0EAEzCU,MAAM,6CACS+D,QAAQ,yJACRC,QAAS,CACL,CACIhE,MAAO,yBAAKf,UAAU,cAAf,wCACPgF,KAAM,YACNC,OAAQ/E,KAAKkE,cAIzB,kBAAC,IAAD,CACX1D,GAAG,QACHiE,QAASzE,KAAKkE,UACdQ,KACmB,kBAAC,IAAD,CAAQC,KAAM,GAAIxE,IAAI,0EAEzCU,MAAM,iCACS+D,QAAQ,0JACRC,QAAS,CACL,CACIhE,MAAO,yBAAKf,UAAU,cAAf,wCACPgF,KAAM,YACNC,OAAQ/E,KAAKkE,eAQvC,OACU,kBAAC,IAAD,CAAgBc,WAAW,GAC3B,kBAAC,IAAD,CACAxE,GAAG,OACHqD,YAAa7D,KAAKgB,MAAM6C,YACxBW,MAAOA,EACPS,YAAajF,KAAKkF,OAClBpB,QAAS9D,KAAKgB,MAAM8C,QACpBqB,OAAQnF,KAAKgB,MAAMmE,OAC5BzE,QAAQ,GACP,kBAAC,EAAD,CAAMF,GAAG,OAAOR,KAAMA,KAAMS,QAASA,Y,GAzIvB2E,IAAM9E,YCrBxB,SAAS+E,EAAgBC,GACxBC,UAAUC,cACRC,SAASH,GACTI,MAAK,SAACC,GACNA,EAAaC,cAAgB,WAC5B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACD,cAA3BF,EAAiB7E,QAChBuE,UAAUC,cAAcQ,WAK3BC,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,4CAMhBC,OAAM,SAAClF,GACPgF,QAAQhF,MAAM,4CAA6CA,MA6B9D,IAAMmF,EAAcC,QAAqC,cAA7BC,OAAOC,SAASC,UAEd,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MAAM,2DC3DhChG,IAAQiG,KAAK,gBD6DE,WACd,GAA6C,kBAAmBnB,UAAW,CAG1E,GADkB,IAAIoB,IAAIC,WAAwBN,OAAOC,UAC3CM,SAAWP,OAAOC,SAASM,OAIxC,OAGDP,OAAOQ,iBAAiB,QAAQ,WAC/B,IAAMxB,EAAK,UAAMsB,WAAN,sBAEPR,IA7CP,SAAiCd,GAEhCyB,MAAMzB,GACJI,MAAK,SAACsB,GAGe,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgB/C,QAAQ,cAG7CmB,UAAUC,cAAc4B,MAAM1B,MAAK,SAACC,GACnCA,EAAa0B,aAAa3B,MAAK,WAC9BY,OAAOC,SAASe,eAKlBjC,EAAgBC,MAGjBa,OAAM,WACNF,QAAQC,IAAI,oEA0BXqB,CAAwBjC,GAIxBC,UAAUC,cAAc4B,MAAM1B,MAAK,WAClCO,QAAQC,IACP,gHAMFb,EAAgBC,OCrFpBkC,GAEAC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.d0f3dac1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\nexport default class Achievement extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"achievement\" onClick={this.props.click}>\r\n                <img\r\n                    className=\"achievement-icon\"\r\n                    src={this.props.img}\r\n                    onClick={this.props.clickAchievement}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// Settings\r\nimport React from 'react';\r\n// VKUI\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\r\n// Icons\r\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\r\nimport Icon24Privacy from '@vkontakte/icons/dist/24/privacy';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon24Story from '@vkontakte/icons/dist/24/story';\r\nimport Icon16Like from '@vkontakte/icons/dist/16/like';\r\nimport Icon24Link from '@vkontakte/icons/dist/24/link';\r\nimport Achievement from './Achievement';\r\nimport { Button } from '@vkontakte/vkui';\r\nimport './style.css'\r\n\r\nconst home = ({ id, this: props, connect}) => (\r\n    <Panel id={id} header={false}>\t\t\t\r\n                    <Group>\r\n                    <div className=\"achievements-box\">\r\n                        <Button level=\"tertiary\"  onClick={() => props.setActiveModal('freshmen')}>\r\n                        \r\n                    <Achievement\r\n                                img=\"https://sun9-24.userapi.com/c858328/v858328522/119d63/kbl3IvOg-Uo.png\"\r\n                                title=\"Фрешмен\"\r\n                                desc=\"Вы нашли 10 интересных записей\"\r\n                            />\r\n                            \r\n                            </Button>\r\n                            <Button level=\"tertiary\"  onClick={() => props.setActiveModal('profi')}>\r\n                        <Achievement\r\n                                    img=\"https://sun9-24.userapi.com/c858328/v858328522/119d63/kbl3IvOg-Uo.png\"\r\n                                    title=\"Фрешмен\"\r\n                                    desc=\"Вы нашли 10 интересных записей\"\r\n                                />\r\n                                </Button>\r\n                            </div>\r\n                    </Group>\r\n\r\n                   \r\n\t</Panel>\r\n);\r\n\r\nexport default home;\r\n","// Инструменты\nimport React from 'react';\nimport connect from '@vkontakte/vk-connect';\n// VKUI\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ModalRoot from '@vkontakte/vkui/dist/components/ModalRoot/ModalRoot';\nimport ModalPage from '@vkontakte/vkui/dist/components/ModalPage/ModalPage';\nimport ModalPageHeader from '@vkontakte/vkui/dist/components/ModalPageHeader/ModalPageHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert';\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\nimport {ModalCard, Avatar} from '@vkontakte/vkui';\nimport './panels/style.css';\n\n// Icons\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\n// Css\nimport '@vkontakte/vkui/dist/vkui.css';\n\n// Panels\nimport Home from './panels/home.js'\n\n// Other\nimport packageJson from '../package.json';\n\n// Поддержка бюджетных устройств\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terror: \"\",\n\t\t\tobject_error: [],\n\t\t\tactiveModal: null,\n\t\t\tmodalHistory: [],\n\t\t\ttext: '',\n\t\t\tsnackbar: null,\n\t\t\timage_url: \"\",\n\n\t\t\tlast_smoke_at: '',\n\t\t\tlast_smoke_at_search: '',\n\t\t\tlast_smoke_at_time_search: '',\n\t\t\tlast_smoke_at_time: '',\n\t\t\tlast_smoke_at_date: '',\n\t\t\tlast_smoke_at_date_search: '',\n\t\t\tyears_of_smoking: '',\n\t\t\tyears_of_smoking_search: '',\n\t\t\tmonths_of_smoking: '',\n\t\t\tmonths_of_smoking_search: '',\n\t\t\tcigarettes_per_day: '',\n\t\t\tcigarettes_per_day_search: '',\n\t\t\tpack_cost: '',\n\t\t\tpack_cost_search: '',\n\t\t\ttar_per_cigarette: '',\n\t\t\ttar_per_cigarette_search: '',\n\t\t\tnicotine_per_cigarette: '',\n\t\t\tnicotine_per_cigarette_search: '',\n\t\t\tstat: {\n                not_smoked_cigarettes: 0,\n                not_smoked_days: 0,\n                money_saved: 0,\n                not_received_tar: 0,\n                not_received_nicotine: 0,\n                time_saved_hours: 0,\n                life_extension_days: 0,\n            },\n            harm_stat: {\n                smoked_days: 0,\n                smoked_cigarettes: 0,\n                money_spent: 0,\n                hours_spent: 0,\n                received_tar: 0,\n                received_nicotine: 0,\n\n                cigarette_butts_weight: 0,\n                netflix_sub_months: 0,\n                marathons: 0,\n                rabbits: 0\n            },\n            activePanel: 'home',\n            history: ['home'],\n            is_support: true,\n            backend_url: 'https://smit.poprosche.ru/p/ne-kuru-backend/public/',\n\t\t\thealth_list: [],\n\t\t\tobject_error: {\n\t\t\t\tcigarettes_per_day: \"\",\n\t\t\t}\n\t\t};\n\n\n\t\tthis.modalBack = () => {\n\t\t\tthis.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n\t\t};\n\t}\n\n\tsetActiveModal(activeModal) {\n\t\tactiveModal = activeModal || null;\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n\t\tif (activeModal === null) {\n\t\t\tmodalHistory = [];\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\n\t\t\tmodalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n\t\t} else {\n\t\t\tmodalHistory.push(activeModal);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveModal,\n\t\t\tmodalHistory\n\t\t});\n\t};\n\t\t\n\trender() {\n\t\tconst modal = (\n\t\t\t<ModalRoot activeModal={this.state.activeModal}>\n                <ModalCard\n\t\t\t\t\tid=\"freshmen\"\n\t\t\t\t\tonClose={this.modalBack}\n\t\t\t\t\ticon={\n                        <Avatar size={72} src=\"https://sun9-24.userapi.com/c858328/v858328522/119d63/kbl3IvOg-Uo.png\" />\n                    }\n\t\t\t\t\ttitle=\"Фрешмен\"\n                    caption=\"Вы нашли 10 интересных записей\"\n                    actions={[\n                        {\n                            title: <div className=\"color-blue\">Готово</div>,\n                            type: 'secondary',\n                            action: this.modalBack\n                        }\n                    ]}\n\t\t\t\t/>\n                <ModalCard\n\t\t\t\t\tid=\"profi\"\n\t\t\t\t\tonClose={this.modalBack}\n\t\t\t\t\ticon={\n                        <Avatar size={72} src=\"https://sun9-24.userapi.com/c858328/v858328522/119d63/kbl3IvOg-Uo.png\" />\n                    }\n\t\t\t\t\ttitle=\"Профи\"\n                    caption=\"Вы нашли 100 интересных записей\"\n                    actions={[\n                        {\n                            title: <div className=\"color-blue\">Готово</div>,\n                            type: 'secondary',\n                            action: this.modalBack\n                        }\n                    ]}\n\t\t\t\t/>\n\n\t\t\t</ModalRoot>\n\t\t);\n\n\t\treturn (\n            <ConfigProvider isWebView={true}>\n            <View\n            id=\"glav\"\n            activePanel={this.state.activePanel}\n            modal={modal}\n            onSwipeBack={this.goBack}\n            history={this.state.history}\n            popout={this.state.popout}\n\t\t\theader={false}>\n\t\t\t\t<Home id=\"home\" this={this} connect={connect}/>\n\t\t\t</View>\n            </ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n\n\n\n    \n\n\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport registerServiceWorker from './sw';\n\n\nconnect.send('VKWebAppInit');\n\n\n\nregisterServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}